
FROM fedora:39

# Install dependencies
RUN dnf -y update && \
    dnf -y install \
        make \
        gcc \
        gcc-c++ \
        cmake \
        libconfig-devel \
        pkg-config \
        SFML-devel

# Copy source code

WORKDIR /app
COPY . .

RUN rm -rf build

# Build the server
RUN mkdir -p build && cd build && \
    cmake .. && \
    make server